!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react"),require("prop-types"),require("react-transition-group"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","prop-types","react-transition-group","react-dom"],e):e((t=t||self).ReactAlert={},t.React,t.PropTypes,t.ReactTransitionGroup,t.ReactDOM)}(this,function(t,b,e,g,R){"use strict";var P="default"in b?b.default:b;function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S(){return(S=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function j(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],0<=e.indexOf(n)||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],0<=e.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function _(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}e=e&&e.hasOwnProperty("default")?e.default:e;var n,r,i=b.createContext(),u={TOP_LEFT:"top left",TOP_CENTER:"top center",TOP_RIGHT:"top right",MIDDLE_LEFT:"middle left",MIDDLE:"middle",MIDDLE_RIGHT:"middle right",BOTTOM_LEFT:"bottom left",BOTTOM_CENTER:"bottom center",BOTTOM_RIGHT:"bottom right"},x={INFO:"info",SUCCESS:"success",ERROR:"error"},a={FADE:"fade",SCALE:"scale"},D=function(t){var e=t.children,n=t.options,r=n.position,o=n.containerStyle,i=j(t,["children","options"]),a=b.useMemo(function(){return function(t){var e={position:"fixed"};switch(t){case u.TOP_LEFT:return C({top:0,left:0},e);case u.TOP_CENTER:return C({top:0,left:"50%",transform:"translate(-50%, 0%)"},e);case u.TOP_RIGHT:return C({top:0,right:0},e);case u.MIDDLE_LEFT:return C({bottom:"50%",left:0},e);case u.MIDDLE:return C({bottom:"50%",left:"50%",transform:"translate(-50%, 0%)"},e);case u.MIDDLE_RIGHT:return C({bottom:"50%",right:0},e);case u.BOTTOM_LEFT:return C({bottom:0,left:0},e);case u.BOTTOM_CENTER:return C({bottom:0,left:"50%",transform:"translate(-50%, 0%)"},e);case u.BOTTOM_RIGHT:return C({right:0,bottom:0},e)}}(r)},[r]);return P.createElement("div",S({style:C({},a,o)},i),e)},c=(o(n={},a.FADE,{transition:"opacity ".concat(250,"ms ease"),opacity:0}),o(n,a.SCALE,{transform:"scale(1)",transition:"all ".concat(250,"ms ease-in-out")}),n),s=(o(r={},a.FADE,{entering:{opacity:0},entered:{opacity:1}}),o(r,a.SCALE,{entering:{transform:"scale(0)"},entered:{transform:"scale(1)"},exiting:{transform:"scale(0)"},exited:{transform:"scale(1)"}}),r),I=function(t){var e=t.children,n=t.type,r=j(t,["children","type"]);return P.createElement(g.Transition,S({},r,{timeout:250}),function(t){return P.createElement("div",{style:C({},c[n],s[n][t])},e)})},l=function(t){var e=t.children,n=t.offset,o=t.position,i=t.timeout,a=t.type,r=t.transition,u=t.containerStyle,c=t.template,s=t.context,l=j(t,["children","offset","position","timeout","type","transition","containerStyle","template","context"]),f=b.useRef(null),p=b.useRef([]),m=_(b.useState([]),2),d=m[0],y=m[1];b.useEffect(function(){return f.current=document.createElement("div"),document.body.appendChild(f.current),function(){p.current.forEach(clearTimeout),f.current&&document.body.removeChild(f.current)}},[]);var O,v=function(r){y(function(t){var e=t.length,n=t.filter(function(t){return t.id!==r.id});return e>n.length&&r.options.onClose&&r.options.onClose(),n})},E=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n={id:Math.random().toString(36).substr(2,9),message:t,options:C({position:e.position||o,timeout:i,type:a},e),close:function(){return v(n)}};if(n.options.timeout){var r=setTimeout(function(){v(n),p.current.splice(p.current.indexOf(r),1)},n.options.timeout);p.current.push(r)}return y(function(t){return t.concat(n)}),n.options.onOpen&&n.options.onOpen(),n},h={root:f.current,alerts:d,show:E,remove:v,success:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return e.type=x.SUCCESS,E(t,e)},error:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return e.type=x.ERROR,E(t,e)},info:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return e.type=x.INFO,E(t,e)}},T=(O=function(t){return t.options.position},d.reduce(function(t,e){var n=O(e);return t[n]||(t[n]=[]),t[n].push(e),t},{}));return P.createElement(s.Provider,{value:h},e,f.current&&R.createPortal(P.createElement(P.Fragment,null,Object.keys(T).map(function(t){return P.createElement(D,S({options:{position:t,containerStyle:u},key:t},l),P.createElement(g.TransitionGroup,null,T[t].map(function(t){return P.createElement(I,{type:r,key:t.id,appear:!0},P.createElement(c,S({style:{margin:n}},t)))})))})),f.current))};l.propTypes={offset:e.string,position:e.oneOf(Object.values(u)),timeout:e.number,type:e.oneOf(Object.values(x)),transition:e.oneOf(Object.values(a)),containerStyle:e.object,template:e.oneOfType([e.element,e.func]).isRequired,context:e.shape({Provider:e.object,Consumer:e.object})},l.defaultProps={offset:"10px",position:u.TOP_CENTER,timeout:0,type:x.INFO,transition:a.FADE,containerStyle:{zIndex:100},context:i};t.Provider=l,t.useAlert=function(t){return b.useContext(t||i)},t.withAlert=function(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:i;return function(r){var t=function(e,n){return P.createElement(o.Consumer,null,function(t){return P.createElement(r,S({ref:n},e,{alert:t}))})};return t.displayName="WithAlert(".concat(r.displayName||r.name||"Component",")"),P.forwardRef(t)}},t.positions=u,t.types=x,t.transitions=a,Object.defineProperty(t,"__esModule",{value:!0})});
